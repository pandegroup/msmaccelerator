#!/usr/bin/env python
import sys, os
from datetime import datetime
from argparse import ArgumentParser
from monakos import Project

parser = ArgumentParser('Monakos: Check performance')
parser.add_argument('params_fn', help='Monakos Paramters File (yaml)')
args = parser.parse_args()

project = Project(args.params_fn)
tlog = project.traj_log

for i, traj in enumerate(tlog):
    wall_seconds = traj['returned_time'] - traj['submit_time']
    wall_hours = wall_seconds / (3600)

    simulation_frames = traj['TrajLength'] - 1

    print 'traj %3d\tframes: %d\twall hours:%5.2f\treturned: %s' %  (i, simulation_frames, wall_hours, datetime.fromtimestamp(traj['returned_time']).strftime("%a %b %d, %I:%M %p"))
    
